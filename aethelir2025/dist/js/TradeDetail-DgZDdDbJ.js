import{j as e,a as h,f as p}from"./index-BSdoB3kj.js";import{r as u}from"./chart-vendor-Dw_LCnh4.js";import{K as f,p as b,Z as v,_ as j}from"./icon-vendor-CFCYlFMW.js";import"./react-vendor-B--z-fyW.js";const N=({trade:d,goBack:i,onSave:c})=>{const[s,r]=u.useState(JSON.parse(JSON.stringify(d))),x=()=>{c(s)},m=t=>{const a=[...s.tda||[]];a.splice(t,1),r({...s,tda:a})},g=()=>{const t=[...s.tda||[],{tf:"",image:"",note:""}];r({...s,tda:t})},o=(t,a,l)=>{const n=[...s.tda||[]];n[t]={...n[t],[a]:l},r({...s,tda:n})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-400 hover:text-slate-800 transition",children:[e.jsx(f,{className:"w-4 h-4"})," Back to Journal"]}),e.jsxs("header",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[e.jsx("span",{children:s.ticker}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.direction==="Long"?"bg-green-50 text-green-600 border border-green-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:s.direction}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-500 text-xs font-semibold",children:s.style||"Intraday"}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-orange-50 text-orange-600 border border-orange-100 text-xs font-semibold",children:["Risk: ",s.risk||"1.0","%"]})]}),e.jsxs("p",{className:"text-slate-400 mt-1 flex items-center gap-2",children:[e.jsx(b,{className:"w-3 h-3"}),e.jsx("span",{dangerouslySetInnerHTML:h(s,!0)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Outcome"}),e.jsx("div",{className:`text-3xl font-light tracking-tight ${s.pnl>=0?"text-green-600":"text-rose-500"}`,children:p(s.pnl)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"soft-card p-6 space-y-4",children:[e.jsx("h3",{className:"font-bold text-xs text-slate-400 uppercase tracking-wider",children:"Entry Execution"}),e.jsx("input",{type:"text",value:s.entryImg||"",onChange:t=>r({...s,entryImg:t.target.value}),className:"w-full text-xs border border-slate-200 rounded-lg p-2 mb-2 focus:outline-none focus:ring-1 focus:ring-slate-300",placeholder:"Paste Image URL here..."}),e.jsx("div",{className:"aspect-video bg-slate-50 rounded-xl overflow-hidden border border-slate-100 img-placeholder relative group",children:s.entryImg&&e.jsx("img",{src:s.entryImg,className:"w-full h-full object-cover",alt:"Entry"})})]}),e.jsxs("div",{className:"soft-card p-6 space-y-4",children:[e.jsx("h3",{className:"font-bold text-xs text-slate-400 uppercase tracking-wider",children:"Exit Execution"}),e.jsx("input",{type:"text",value:s.exitImg||"",onChange:t=>r({...s,exitImg:t.target.value}),className:"w-full text-xs border border-slate-200 rounded-lg p-2 mb-2 focus:outline-none focus:ring-1 focus:ring-slate-300",placeholder:"Paste Image URL here..."}),e.jsx("div",{className:"aspect-video bg-slate-50 rounded-xl overflow-hidden border border-slate-100 img-placeholder relative",children:s.exitImg&&e.jsx("img",{src:s.exitImg,className:"w-full h-full object-cover",alt:"Exit"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Top-Down Analysis"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.tda?.map((t,a)=>e.jsxs("div",{className:"soft-card p-4 space-y-3 relative group",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsxs("select",{value:t.tf,onChange:l=>o(a,"tf",l.target.value),className:"flex-1 text-xs font-bold bg-slate-50 border border-slate-200 rounded-lg px-2 py-1 outline-none",children:[e.jsx("option",{value:"",children:"Select TF"}),e.jsx("option",{value:"1M",children:"1 Month"}),e.jsx("option",{value:"1W",children:"1 Week"}),e.jsx("option",{value:"1D",children:"1 Day"}),e.jsx("option",{value:"4H",children:"4 Hour"}),e.jsx("option",{value:"1H",children:"1 Hour"}),e.jsx("option",{value:"15m",children:"15 Min"}),e.jsx("option",{value:"5m",children:"5 Min"})]}),e.jsx("button",{onClick:()=>m(a),className:"text-slate-300 hover:text-rose-500 transition p-1 rounded-md hover:bg-slate-50",title:"Remove Frame",children:e.jsx(v,{className:"w-4 h-4"})})]}),e.jsx("input",{type:"text",value:t.image,onChange:l=>o(a,"image",l.target.value),className:"w-full text-[10px] border border-slate-200 rounded-lg p-1.5 text-slate-500 focus:outline-none focus:border-slate-400",placeholder:"Image URL"}),e.jsx("div",{className:"aspect-video bg-slate-50 rounded-lg border border-slate-100 img-placeholder overflow-hidden",children:t.image&&e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:"TDA"})}),e.jsx("textarea",{value:t.note,onChange:l=>o(a,"note",l.target.value),className:"w-full h-20 text-xs bg-slate-50 border border-slate-100 rounded-lg p-2 resize-none focus:outline-none focus:ring-1 focus:ring-slate-200",placeholder:"Analysis notes..."})]},a))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:g,className:"text-xs font-semibold text-slate-400 hover:text-slate-800 transition py-2 px-4 rounded-lg hover:bg-slate-100 border border-transparent hover:border-slate-200 border-dashed",children:"+ Add Analysis Frame"})})]}),e.jsxs("div",{className:"soft-card p-6 lg:p-8",children:[e.jsx("h3",{className:"font-bold text-xs text-slate-400 uppercase tracking-wider mb-4",children:"Conclusions & Lessons"}),e.jsx("textarea",{value:s.conclusions||"",onChange:t=>r({...s,conclusions:t.target.value}),className:"w-full h-32 text-sm text-slate-600 leading-relaxed bg-transparent border-none focus:ring-0 p-0 resize-none placeholder-slate-300",placeholder:"What did you learn from this trade? What went well? What could be improved?"})]}),e.jsx("div",{className:"flex justify-end pt-4 pb-10",children:e.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition shadow-lg shadow-slate-200 transform active:scale-95",children:[e.jsx(j,{className:"w-4 h-4"})," Save Changes"]})})]})};N.displayName="TradeDetail";export{N as TradeDetail};
